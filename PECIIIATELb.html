<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–†–ï–®–ê–¢–ï–õ–¨ üé∞</title>

<style>
* { box-sizing: border-box; }

body {
    margin: 0;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: system-ui, -apple-system, Segoe UI, Arial, sans-serif;
    background: radial-gradient(circle at top, #1b1f2a, #07080d);
    color: #fff;
}

.box {
    background: rgba(20, 24, 36, 0.78);
    backdrop-filter: blur(14px);
    border-radius: 26px;
    padding: 28px 26px 36px;
    width: 100%;
    max-width: 460px;
    box-shadow: 0 35px 70px rgba(0,0,0,0.75);
}

h1 {
    margin: 0 0 22px;
    text-align: center;
    letter-spacing: 1px;
}

/* üî≤ –¥–≤–µ –∫–æ–ª–æ–Ω–∫–∏ */
.grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 18px;
    margin-bottom: 16px;
}

.card {
    background: rgba(255,255,255,0.03);
    border-radius: 18px;
    padding: 18px 14px 20px;
    text-align: center;
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.05);
}

.visual {
    font-size: 62px;
    margin-bottom: 6px;
    user-select: none;
}

button {
    width: 100%;
    margin-top: 8px;
    padding: 12px 14px;
    border-radius: 14px;
    border: none;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    color: #eaf0ff;
    background: linear-gradient(135deg, #2a3355, #1a2140);
    box-shadow:
        inset 0 0 0 1px rgba(255,255,255,0.08),
        0 10px 22px rgba(0,0,0,0.6);
    transition: transform .15s, box-shadow .15s, filter .15s;
}

button:hover {
    filter: brightness(1.1);
    transform: translateY(-1px);
}

button:active {
    transform: translateY(1px) scale(.98);
}

/* ü™ô –º–æ–Ω–µ—Ç–∫–∞ */
.coin.flip {
    animation: flip 0.9s ease-in-out;
}
@keyframes flip {
    0%   { transform: rotateY(0deg); }
    50%  { transform: rotateY(540deg) scale(1.1); }
    100% { transform: rotateY(1080deg); }
}

/* üé≤ –∫—É–±–∏–∫ */
.dice.roll {
    animation: roll 0.6s ease-out;
}
@keyframes roll {
    0%   { transform: rotate(0deg) scale(1); }
    40%  { transform: rotate(180deg) scale(1.2); }
    100% { transform: rotate(360deg) scale(1); }
}

/* üéØ —Ä–µ–∑—É–ª—å—Ç–∞—Ç */
.result {
    margin-top: 18px;
    min-height: 40px;
    text-align: center;
    font-size: clamp(17px, 3.8vw, 19px);
    white-space: nowrap;
    opacity: 0;
    transform: translateY(16px);
    transition:
        opacity .35s ease,
        transform .45s cubic-bezier(.22,1,.36,1);
}

.result.show {
    opacity: 1;
    transform: translateY(0);
}

/* üé¨ –ö–ò–ù–û */
.movie {
    color: #ffd66b;
    font-weight: 600;
    text-shadow: 0 0 12px rgba(255,214,107,0.6);
}

/* üì∫ YouTube */
.youtube {
    color: #ff5a5a;
    font-weight: 600;
    text-shadow: 0 0 12px rgba(255,90,90,0.5);
}

/* üì± –º–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
@media (max-width: 420px) {
    .grid {
        grid-template-columns: 1fr;
    }
}
</style>
</head>

<body>
<div class="box">
    <h1>üé≤ –†–ï–®–ê–¢–ï–õ–¨</h1>

    <div class="grid">
        <!-- ü™ô –ú–û–ù–ï–¢–ö–ê -->
        <div class="card">
            <div class="visual coin" id="coin">ü™ô</div>
            <button onclick="coinFlip()">–ú–æ–Ω–µ—Ç–∫–∞</button>
        </div>

        <!-- üé≤ –ö–£–ë–ò–ö -->
        <div class="card">
            <div class="visual dice" id="dice">üé≤</div>
            <button onclick="rollDice()">–ö—É–±–∏–∫ 1‚Äì3</button>
        </div>
    </div>

    <div class="result" id="result"></div>
</div>

<script>
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

function tone(freq, time, type = "sine", volume = 0.07) {
    const osc = audioCtx.createOscillator();
    const gain = audioCtx.createGain();
    osc.type = type;
    osc.frequency.value = freq;
    gain.gain.value = volume;
    osc.connect(gain).connect(audioCtx.destination);
    osc.start();
    osc.stop(audioCtx.currentTime + time);
}

// ü™ô –∫–∞–∑–∏–Ω–æ-–∑–≤–æ–Ω
function coinSound() {
    tone(1800, 0.06, "triangle", 0.07);
    setTimeout(() => tone(2200, 0.05, "triangle", 0.06), 70);
    setTimeout(() => tone(2600, 0.04, "triangle", 0.05), 130);
}

// üé≤ –∑–≤—É–∫ –∫—É–±–∏–∫–∞
function diceSound() {
    for (let i = 0; i < 4; i++) {
        setTimeout(() => {
            tone(300 + Math.random() * 500, 0.05, "square", 0.04);
        }, i * 60);
    }
}

// üé∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
function winSound() {
    tone(900, 0.08, "sine", 0.06);
    setTimeout(() => tone(1200, 0.1, "sine", 0.06), 90);
}

function coinFlip() {
    const coin = document.getElementById("coin");
    coin.classList.remove("flip");
    void coin.offsetWidth;
    coin.classList.add("flip");

    coinSound();

    const isEagle = Math.random() < 0.5;
    setTimeout(() => {
        showResult(
            isEagle
                ? `ü™ô –û—Ä—ë–ª ‚Üí <span class="movie">üé¨ –ò–¥—ë—à—å —Å–º–æ—Ç—Ä–µ—Ç—å –∫–∏–Ω–æ</span>`
                : `ü™ô –†–µ—à–∫–∞ ‚Üí <span class="youtube">üì∫ –ò–¥—ë—à—å —Å–º–æ—Ç—Ä–µ—Ç—å YouTube</span>`
        );
        winSound();
    }, 650);
}

function rollDice() {
    const dice = document.getElementById("dice");
    dice.classList.remove("roll");
    void dice.offsetWidth;
    dice.classList.add("roll");

    diceSound();

    const n = Math.floor(Math.random() * 3) + 1;
    setTimeout(() => {
        showResult(`üé≤ –ö–æ—Å—Ç–∏ –±—Ä–æ—à–µ–Ω—ã‚Ä¶ –≤—ã–ø–∞–ª–æ <span class="movie">${n}</span>`);
        winSound();
    }, 450);
}

function showResult(html) {
    const el = document.getElementById("result");
    el.classList.remove("show");
    el.innerHTML = html;
    requestAnimationFrame(() => el.classList.add("show"));
}
</script>
</body>
</html>
